<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no"/><link rel="shortcut icon" href="/favicon.ico" /><title>在 OS X 下使用 sz/rz 命令进行文件的下载/上传 - Xheldon</title><meta name="author" content="Xheldon" /><meta name="description" content="在 OS X 下使用 sz/rz 命令进行文件的下载/上传" /><meta name="keywords" content="在 OS X 下使用 sz/rz 命令进行文件的下载/上传, Xheldon, Software" /><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"><meta content="" property="fb:app_id"><meta content="Xheldon" property="og:site_name"><meta content="在 OS X 下使用 sz/rz 命令进行文件的下载/上传" property="og:title"><meta content="article" property="og:type"><meta content="会点前端，在学 Node、Electron、ProseMirror" property="og:description"><meta content="https://xheldon.com/tech/how-to-use-rz-sz-on-mac.html" property="og:url"><meta content="2015-07-20T00:12:45+00:00" property="article:published_time"><meta content="https://xheldon.com/about/" property="article:author"><meta content="/resource/img/logo_min.png" property="og:image"><meta content="Software" property="article:section"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@"><meta name="twitter:creator" content="@"><meta name="twitter:title" content="在 OS X 下使用 sz/rz 命令进行文件的下载/上传"><meta name="twitter:url" content="https://xheldon.com/tech/how-to-use-rz-sz-on-mac.html"><meta name="twitter:description" content="会点前端，在学 Node、Electron、ProseMirror"><style type="text/css"> /* Project Elements */ .project-outer { display: inline-block; min-width: 30%; max-width: 45%; vertical-align: top; margin: 0 1.6%; overflow: hidden; } .project-img img { width: 100%; } h3.project-headlines { margin: 5px 0; font-size: 20px; } span.tags { font-size: 10px; border-bottom: 1px #888 dotted; margin: 0 5px; } span.tags:first-child { margin-left: 0; } span.tags:last-child { margin-right: 0; } .project-footer { clear: both; display: inline-block; width: 100%; } .project-footer .project-link { display: inline-block; position: relative; float: left; text-decoration: none; } .project-footer .project-timeline { display: inline-block; position: relative; float: right; font-size: 13px; font-style: italic; } .project-inner>a { display: block; } .project-img { width: 100%; height: 200px; display: block; background-size: contain; background-repeat: no-repeat; background-position: center center; } /** Project Tag Filters **/ .tag-group { margin: 0 0 25px 0; } span.tag-cloud { margin: 0 2px; cursor: pointer; font-size: 75%; padding: .2em .6em .3em; font-weight: 700; display: inline; } .tag-cloud.active { background: #ccc; } .project-item.not-show { display: none; } a.project-detail:hover { text-decoration: none; } a.project-detail:hover h3 { color: #428bca; }</style><link rel="stylesheet" href="/resource/css/main.css?t=20190911161844"><body><div class="container" id="container-post"><header id="header-post"> <a href="/"><img class="profile-avatar" src="/resource/img/logo_min.png" height="75px" width="75px" /></a><nav class="navlinks"><li><a class="about" href="https://42.xheldon.com/about/">我</a><li><a class="about" href="/book-list/">书单</a><li><a class="about" href="/projects/">项目</a><li><a class="about" href="/donate/">赞赏</a><li><a class="about" href="/feed.xml">订阅</a></nav><div class="search" id="js-search"> <input type="text" placeholder="搜索一下" class="search__input form-control" id="js-search__input"><ul class="search__results" id="js-search__results"></ul></div></header><main class="main-layout" id="page-post"><aside id="toc"><ul id="my_toc"><li><a href="#第一步-下载-iterm2">第一步: 下载 <code class="language-plaintext highlighter-rouge">iTerm2</code></a><li><a href="#第二步-使用-iterm2-安装-brew">第二步: 使用 <code class="language-plaintext highlighter-rouge">iTerm2</code> 安装 <code class="language-plaintext highlighter-rouge">brew</code></a><li><a href="#第三步-使用-brew-安装-lrzsz">第三步: 使用 <code class="language-plaintext highlighter-rouge">brew</code> 安装 <code class="language-plaintext highlighter-rouge">lrzsz</code></a><li><a href="#第四步-配置-iterm2">第四步: 配置 <code class="language-plaintext highlighter-rouge">iTerm2</code></a><li><a href="#第五步-尽情-rzsz-吧">第五步: 尽情 <code class="language-plaintext highlighter-rouge">rz/sz</code> 吧！</a></ul></aside><article class="post"><section class="post-header"><h1 class="post-title">在 OS X 下使用 sz/rz 命令进行文件的下载/上传</h1><div> <time class="time">2015年07月20日</time> <span class="categories"> &raquo; <a href="/category/Software">Software</a> </span></div></section><div class="time-tips">注意：离本文创建时间已经过去了 <code>2180</code> 天, 请注意时效性</div><p><code class="language-plaintext highlighter-rouge">OS X</code> 自带的终端可以直接连接 <code class="language-plaintext highlighter-rouge">Linux</code> （相比之下, <code class="language-plaintext highlighter-rouge">Win</code> 的 <code class="language-plaintext highlighter-rouge">cmd</code> 就比较渣了）, 但是有个问题就是, 终端无法直接通过 <code class="language-plaintext highlighter-rouge">Zmodem</code> 来上传和下载文件, 这里就需要一款更强大的远程服务器连接工具: <code class="language-plaintext highlighter-rouge">iTerm</code> 的帮助了.<p>网上很多的教程, 但是有的是为了提高访问量随便粘贴的, 完全不负责任, 讲的也不仔细, 我也是连蒙带猜费了半天的劲儿才搞好的, 坑爹. 下面我尽量使用比较浅显的话来给大家讲解.<p>好了废话不多说, 咱们进入正题: 如何在 <code class="language-plaintext highlighter-rouge">Mac OS X</code> 下使用 <code class="language-plaintext highlighter-rouge">Zmodem</code> 中的 <code class="language-plaintext highlighter-rouge">rz/sz</code> 来上传和下载文件.<h2 id="第一步-下载-iterm2">第一步: 下载 <code class="language-plaintext highlighter-rouge">iTerm2</code></h2><p>首先明确, 使用自带的终端是不行的, 我们需要下载一款比终端更强大的 <code class="language-plaintext highlighter-rouge">shell</code> 工具: <a href="http://www.iterm2.cn/download"><code class="language-plaintext highlighter-rouge">iTerm2</code></a>    下载下来是个 <code class="language-plaintext highlighter-rouge">zip</code> 的压缩包, 直接解压就得到了以 <code class="language-plaintext highlighter-rouge">.app</code> 为后缀名的可执行文件, 双击打开就是 <code class="language-plaintext highlighter-rouge">iTerm2</code> 的窗口了, 过程中有警告窗口的话同意即可（就相当于是 <code class="language-plaintext highlighter-rouge">Win</code> 下的绿色软件一样无需安装）<h2 id="第二步-使用-iterm2-安装-brew">第二步: 使用 <code class="language-plaintext highlighter-rouge">iTerm2</code> 安装 <code class="language-plaintext highlighter-rouge">brew</code></h2><p><code class="language-plaintext highlighter-rouge">brew</code> 是一个包管理程序, 使用它可以方便的安装各种软件, 而无需输入地址, 作用相当于 <code class="language-plaintext highlighter-rouge">AppStore</code> 一样, 具体介绍请参看官网. 安装 <code class="language-plaintext highlighter-rouge">brew</code> 很简单, 使用刚刚下载后解压打开的 <code class="language-plaintext highlighter-rouge">iTerm2</code>, 输入<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">ruby</span> <span class="o">-</span><span class="nx">e</span><span class="err"> </span><span class="dl">"</span><span class="s2">$(curl -fsSLhttps://raw.githubusercontent.com/Homebrew/install/master/install)</span><span class="dl">"</span>
</code></pre></div></div><p>即可.<p>注意看安装过程中的提示, 我在文字停止显示时就以为是安装好了, 于是开心的 <code class="language-plaintext highlighter-rouge">ls</code> 起来, 结果发现停止时是需要按下 <code class="language-plaintext highlighter-rouge">return</code> 来确认的, 按其他键就会退出安装, 过程需要按下两次 <code class="language-plaintext highlighter-rouge">return</code>, 最后显示:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Downloading</span><span class="err"> </span><span class="nx">and</span><span class="err"> </span><span class="nx">installing</span> <span class="nx">Homebrew</span><span class="p">...</span>
</code></pre></div></div><p>才开始下载和安装 <code class="language-plaintext highlighter-rouge">brew</code> 这点要记住.<p>成功会提示这个:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Installation</span> <span class="nx">successful</span><span class="o">!</span>
</code></pre></div></div><p>注意, 如果通过 <code class="language-plaintext highlighter-rouge">iTerm2</code> 的 <code class="language-plaintext highlighter-rouge">brew</code> 安装不上 <code class="language-plaintext highlighter-rouge">lrzsz</code>（包括各种情况的报错 ）, 请 <a href="https://ohse.de/uwe/releases/lrzsz-0.12.20.tar.gz">手动下载 <code class="language-plaintext highlighter-rouge">lrzsz</code></a>, 这里是 <a href="https://ohse.de/uwe/software/lrzsz.html"><code class="language-plaintext highlighter-rouge">lrzsz</code> 的官网</a><p>需要将下载的 <code class="language-plaintext highlighter-rouge">zip</code> 压缩之后放到 <code class="language-plaintext highlighter-rouge">brew</code> 的缓存目录下: <code class="language-plaintext highlighter-rouge">/Library/Caches/Homebrew/</code><h2 id="第三步-使用-brew-安装-lrzsz">第三步: 使用 <code class="language-plaintext highlighter-rouge">brew</code> 安装 <code class="language-plaintext highlighter-rouge">lrzsz</code></h2><p>在 <code class="language-plaintext highlighter-rouge">iTerm2</code> 中输入:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">brew</span> <span class="nx">install</span> <span class="nx">lrzsz</span>
</code></pre></div></div><p>无需操作, 看到成功提示即可.<h2 id="第四步-配置-iterm2">第四步: 配置 <code class="language-plaintext highlighter-rouge">iTerm2</code></h2><p>首先需要下载两个脚本文件, 放到 <code class="language-plaintext highlighter-rouge">/usr/local/bin</code> 目录下, 这里是 <a href="https://github.com/mmastrac/iterm2-zmodem">下载地址</a>, 点击 <code class="language-plaintext highlighter-rouge">Github</code> 页面的右下角的 <code class="language-plaintext highlighter-rouge">Download ZIP</code> 即可.<p>下载之后解压文件, <code class="language-plaintext highlighter-rouge">cd</code> 到这个解压的文件夹（名字是 <code class="language-plaintext highlighter-rouge">iterm2-zmodem-master</code>,要用 <code class="language-plaintext highlighter-rouge">root</code> 权限: <code class="language-plaintext highlighter-rouge">sudo -i</code> ）, 通过终端或者 <code class="language-plaintext highlighter-rouge">iTerm2</code> <code class="language-plaintext highlighter-rouge">copy</code> 文件到 <code class="language-plaintext highlighter-rouge">/usr/local/bin</code> 目录即可 命令为（假设当前已经 <code class="language-plaintext highlighter-rouge">cd</code> 到 <code class="language-plaintext highlighter-rouge">iterm2-zmodem-master</code> 文件夹）:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">cp</span> <span class="nx">iterm2</span><span class="o">-</span><span class="nx">recv</span><span class="o">-</span><span class="nx">zmodem</span><span class="p">.</span><span class="nx">sh</span> <span class="o">/</span><span class="nx">usr</span><span class="o">/</span><span class="nx">local</span><span class="o">/</span><span class="nx">bin</span><span class="o">/</span><span class="nx">iterm2</span><span class="o">-</span><span class="nx">send</span><span class="o">-</span><span class="nx">zmodem</span><span class="p">.</span><span class="nx">sh</span><span class="err">（</span><span class="nx">回车</span><span class="err">） </span>
<span class="nx">cp</span> <span class="nx">iterm2</span><span class="o">-</span><span class="nx">send</span><span class="o">-</span><span class="nx">zmodem</span><span class="p">.</span><span class="nx">sh</span> <span class="o">/</span><span class="nx">usr</span><span class="o">/</span><span class="nx">local</span><span class="o">/</span><span class="nx">bin</span><span class="o">/</span><span class="nx">iterm2</span><span class="o">-</span><span class="nx">send</span><span class="o">-</span><span class="nx">zmodem</span><span class="p">.</span><span class="nx">sh</span><span class="err">（</span><span class="nx">回车</span><span class="err">）</span>
</code></pre></div></div><p>之后在 <code class="language-plaintext highlighter-rouge">iTerm2</code> 的设置界面 <code class="language-plaintext highlighter-rouge">iTerm</code> <code class="language-plaintext highlighter-rouge">偏好设置-&gt; Profiles -&gt; Default -&gt; Advanced -&gt; Triggers</code> 的 <code class="language-plaintext highlighter-rouge">Edit </code>按钮 点击 <code class="language-plaintext highlighter-rouge">+</code> 号, 加上以下 <code class="language-plaintext highlighter-rouge">trigger</code> 信息(两行):<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">第一行</span><span class="p">:</span>
<span class="nx">Regular</span> <span class="nx">expression</span><span class="p">:</span> <span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="nx">B0100</span>    <span class="nx">Action</span><span class="p">:</span> <span class="nx">Run</span> <span class="nx">Silent</span> <span class="nx">Coprocess</span>    <span class="nx">Parameters</span><span class="p">:</span> <span class="o">/</span><span class="nx">usr</span><span class="o">/</span><span class="nx">local</span><span class="o">/</span><span class="nx">bin</span><span class="o">/</span><span class="nx">iterm2</span><span class="o">-</span><span class="nx">send</span><span class="o">-</span><span class="nx">zmodem</span><span class="p">.</span><span class="nx">sh</span><span class="err"> </span>
<span class="nx">第二行</span><span class="p">:</span>
<span class="nx">Regular</span> <span class="nx">expression</span><span class="p">:</span> <span class="err">\</span><span class="o">*</span><span class="err">\</span><span class="o">*</span><span class="nx">B00000000000000</span>    <span class="nx">Action</span><span class="p">:</span> <span class="nx">Run</span> <span class="nx">Silent</span> <span class="nx">Coprocess</span>    <span class="nx">Parameters</span><span class="p">:</span> <span class="o">/</span><span class="nx">usr</span><span class="o">/</span><span class="nx">local</span><span class="o">/</span><span class="nx">bin</span><span class="o">/</span><span class="nx">iterm2</span><span class="o">-</span><span class="nx">recv</span><span class="o">-</span><span class="nx">zmodem</span><span class="p">.</span><span class="nx">sh</span>
</code></pre></div></div><h2 id="第五步-尽情-rzsz-吧">第五步: 尽情 <code class="language-plaintext highlighter-rouge">rz/sz</code> 吧！</h2><p>之后 ssh 连接服务器, 连接成功之后试试输入 rz 就会弹出一个对话框让选择需要上传的文件, 大功告成！</article><div class="page-footer"><hr /> 转载请<a href="/tech/how-to-use-rz-sz-on-mac.html">注明出处</a>&nbsp;&nbsp;打赏请<a href="/donate/" target="_blank">移步这里</a> <br><br> <span class="EOF">- EOF -</span> <br><br><div class="panel-body"><h4>相同分类:</h4><ul><li class="relatedPost"> <a href="/tech/from-evernote-to-apple-notes.html">从 Evernote 转移到苹果自带备忘录</a> (分类: <a href="/category/Software">Software</a>)<li class="relatedPost"> <a href="/tech/softerware-i-use-usually.html">环境配置/常用软件汇总</a> (分类: <a href="/category/Software">Software</a>)</ul></div><div class="page-navigation"> <a class="prev" href="/tech/how-i-think-people-privacy.html">&laquo; 关于收集用户隐私的看法</a> <span class="next">没有更多了 </span></div><div id="gitalk-container"></div></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"> <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script> <script type="text/javascript"> window.addEventListener('load', function(){ var gitalk = new Gitalk({ clientID: 'd2b353a60fa1233163fc', clientSecret: '8091d57674976bcd60fc05261bf93c00da7e5ff4', repo: 'x_blog', owner: 'Xheldon', admin: ['Xheldon'], id: "how-to-use-rz-sz-on-mac" }); gitalk.render('gitalk-container'); }); </script></main><footer> &copy; 2021 - Xheldon - Theme Powered By Xheldon <span class="footer-social"> <a href="https://twitter.com/_Xheldon" target="_blank"><i class="fab fa-twitter"></i></a> <a href="https://t.me/xheldon_saloon" target="_blank"><i class="fab fa-telegram"></i></a> <a href="https://www.zhihu.com/people/xheldon/pins" target="_blank"><i class="fa" style="font-size: 16px;line-height:2;">知乎</i></a> </span></footer></div><script type="text/javascript"> !function () { function e(t) { var n = {}; if (1 == t.nodeType) { if (t.attributes.length > 0) { n["@attributes"] = {}; for (var i = 0; i < t.attributes.length; i++) { var s = t.attributes.item(i); n["@attributes"][s.nodeName] = s.nodeValue } } } else 3 == t.nodeType && (n = t.nodeValue); var a = [].slice.call(t.childNodes).filter(function (e) { return 3 === e.nodeType }); if (t.hasChildNodes() && t.childNodes.length === a.length) n = [].slice.call(t.childNodes).reduce(function (e, t) { return e + t.nodeValue }, ""); else if (t.hasChildNodes()) for (var r = 0; r < t.childNodes.length; r++) { var o = t.childNodes.item(r), d = o.nodeName; if ("undefined" == typeof n[d]) n[d] = e(o); else { if ("undefined" == typeof n[d].push) { var c = n[d]; n[d] = [], n[d].push(c) } n[d].push(e(o)) } } return n } function t(t) { var n = e(t); return n.channel.item } var n, i = document.querySelector("#js-search"), s = document.querySelector("#js-search__input"), a = document.querySelector("#js-search__results"), r = "", o = [], d = new XMLHttpRequest; d.open("GET", "/sitemap.xml"), d.onreadystatechange = function () { if (4 == d.readyState && (200 == d.status || 304 == d.status)) { var e = (new DOMParser).parseFromString(d.responseText, "text/xml"); e = e.children[0], o = t(e) } }, d.send(), window.toggleSearch = function () { _gaq.push(["_trackEvent", "supersearch", i.classList.contains("is-active")]), i.classList.toggle("is-active"), i.classList.contains("is-active") ? s.value = "" : a.classList.add("is-hidden"), setTimeout(function () { s.focus() }, 210) }, window.addEventListener("keyup", function (e) { 27 === e.which && toggleSearch() }), window.addEventListener("keypress", function (e) { 47 !== e.which || i.classList.contains("is-active") || toggleSearch() }), s.addEventListener("input", function () { var e, t; if (r = (s.value + "").toLowerCase(), !r || r.length < 3) return n = "", void a.classList.add("is-hidden"); a.style.offsetWidth; var i; i = void 0 === o.title ? o.filter(function (e) { return -1 !== (e.title + "").toLowerCase().indexOf(r) || -1 !== (e.description + "").toLowerCase().indexOf(r) ? !0 : void 0 }) : [o], i.length || a.classList.add("is-hidden"), e = i.reduce(function (e, t) { return t.title + e }, ""), i.length && e !== n && (a.classList.remove("is-hidden"), a.innerHTML = i.map(function (e) { return t = new Date(e.pubDate), '<li><a href="' + e.link + '">' + e.title + "</a>" }).join("")), n = e }) }(); </script><link href="https://cdn.jsdelivr.net/gh/xheldon/x_blog-static@master/css/font-awesome.min.css" rel="stylesheet" crossorigin="anonymous"> <script> (function (i, s, o, g, r, a, m) { i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o), m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m) })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga'); ga('create', 'UA-79359216-1', 'auto'); ga('send', 'pageview'); </script> <script> document.addEventListener('DOMContentLoaded',function(){ try { Array.prototype.slice.call(document.querySelectorAll('a')).forEach(function(a){ if (!a.getAttribute('target')) { let href = a.getAttribute('href'); let attrs = Object.keys(a.dataset); if (href && href.indexOf('/') && href.indexOf('#')) { a.setAttribute('target', '_blank'); } else { a.setAttribute('target', '_self'); } /* 默认情况下外链在新窗口打开, 本地链接在当前窗口打开 kramdown 可以对 url 设置特殊属性 data-open, 因此用此特性来排除需要在新窗口打开的本地链接 */ if (attrs.length) { attrs.forEach(function(attr){ switch (attr) { case 'open': a.setAttribute('target', '_blank'); break; default: break; } }); } } }); } catch (e) { console.log('新窗口打开链接失败:', e); } /*try { let toc = document.getElementById('post-toc'); if (toc) { function setPosition() { let offset = toc.parentElement.getBoundingClientRect().y; if (offset <= 50) { toc.style.position = 'fixed'; toc.style.top = '50px'; } else { toc.style.position = 'absolute'; toc.style.top = '0'; } } setPosition(); window.addEventListener('scroll', setPosition); } } catch(e) { console.log('toc滚动失败'); }*/ }); </script>
