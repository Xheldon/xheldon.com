<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no"/><link rel="shortcut icon" href="/favicon.ico" /><title>Vue + Webpack 组件式开发(练习环境)初体验 - Xheldon</title><meta name="author" content="Xheldon" /><meta name="description" content="Vue + Webpack 组件式开发(练习环境)初体验" /><meta name="keywords" content="Vue + Webpack 组件式开发(练习环境)初体验, Xheldon, Framework" /><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"><meta content="" property="fb:app_id"><meta content="Xheldon" property="og:site_name"><meta content="Vue + Webpack 组件式开发(练习环境)初体验" property="og:title"><meta content="article" property="og:type"><meta content="会点前端，在学 Node、Electron、ProseMirror" property="og:description"><meta content="https://xheldon.com/tech/vue-simple-use.html" property="og:url"><meta content="2016-04-29T21:12:12+00:00" property="article:published_time"><meta content="https://xheldon.com/about/" property="article:author"><meta content="/resource/img/logo_min.png" property="og:image"><meta content="Framework" property="article:section"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@"><meta name="twitter:creator" content="@"><meta name="twitter:title" content="Vue + Webpack 组件式开发(练习环境)初体验"><meta name="twitter:url" content="https://xheldon.com/tech/vue-simple-use.html"><meta name="twitter:description" content="会点前端，在学 Node、Electron、ProseMirror"><style type="text/css"> /* Project Elements */ .project-outer { display: inline-block; min-width: 30%; max-width: 45%; vertical-align: top; margin: 0 1.6%; overflow: hidden; } .project-img img { width: 100%; } h3.project-headlines { margin: 5px 0; font-size: 20px; } span.tags { font-size: 10px; border-bottom: 1px #888 dotted; margin: 0 5px; } span.tags:first-child { margin-left: 0; } span.tags:last-child { margin-right: 0; } .project-footer { clear: both; display: inline-block; width: 100%; } .project-footer .project-link { display: inline-block; position: relative; float: left; text-decoration: none; } .project-footer .project-timeline { display: inline-block; position: relative; float: right; font-size: 13px; font-style: italic; } .project-inner>a { display: block; } .project-img { width: 100%; height: 200px; display: block; background-size: contain; background-repeat: no-repeat; background-position: center center; } /** Project Tag Filters **/ .tag-group { margin: 0 0 25px 0; } span.tag-cloud { margin: 0 2px; cursor: pointer; font-size: 75%; padding: .2em .6em .3em; font-weight: 700; display: inline; } .tag-cloud.active { background: #ccc; } .project-item.not-show { display: none; } a.project-detail:hover { text-decoration: none; } a.project-detail:hover h3 { color: #428bca; }</style><link rel="stylesheet" href="/resource/css/main.css?t=20190911161844"><body><div class="container" id="container-post"><header id="header-post"> <a href="/"><img class="profile-avatar" src="/resource/img/logo_min.png" height="75px" width="75px" /></a><nav class="navlinks"><li><a class="about" href="https://42.xheldon.com/about/">我</a><li><a class="about" href="/book-list/">书单</a><li><a class="about" href="/projects/">项目</a><li><a class="about" href="/donate/">赞赏</a><li><a class="about" href="/feed.xml">订阅</a></nav><div class="search" id="js-search"> <input type="text" placeholder="搜索一下" class="search__input form-control" id="js-search__input"><ul class="search__results" id="js-search__results"></ul></div></header><main class="main-layout" id="page-post"><aside id="toc"><ul id="my_toc"><li><a href="#前言">前言</a><li><a href="#fbi-warning">FBI warning</a><li><a href="#配置说明">配置说明</a><li><a href="#项目说明">项目说明</a></ul></aside><article class="post"><section class="post-header"><h1 class="post-title">Vue + Webpack 组件式开发(练习环境)初体验</h1><div> <time class="time">2016年04月29日</time> <span class="categories"> &raquo; <a href="/category/Framework">Framework</a> </span></div></section><div class="time-tips">注意：离本文创建时间已经过去了 <code>1895</code> 天, 请注意时效性</div><h2 id="前言">前言</h2><p>研究了下别人的 <code class="language-plaintext highlighter-rouge">vue</code> 多页面框架, 都是直接复制 <code class="language-plaintext highlighter-rouge">package.json</code> 文件,然后在本地 <code class="language-plaintext highlighter-rouge">npm install</code> 一下即可, 或者使用官网 <code class="language-plaintext highlighter-rouge">vue-cli</code> 工具生成一个项目, 觉得这样虽然看的懂, 但是记不住, 因此有必要从零开始搭建一个使用 <code class="language-plaintext highlighter-rouge">.vue</code> 作为组件的项目练习一下, 因此有了这个项目.<p>既然使用了 <code class="language-plaintext highlighter-rouge">.vue</code> 组件, 就不能像之前使用 <code class="language-plaintext highlighter-rouge">jQuery</code> 一样把 <code class="language-plaintext highlighter-rouge">vue.js</code> 引入页面中, 而是使用配套的 <code class="language-plaintext highlighter-rouge">webpack</code> + <code class="language-plaintext highlighter-rouge">babel</code> + 各种 <code class="language-plaintext highlighter-rouge">loader</code> 工具编译 <code class="language-plaintext highlighter-rouge">.vue</code> 文件, 再打包生成 <code class="language-plaintext highlighter-rouge">html</code>.<h2 id="fbi-warning">FBI warning</h2><p><em><code class="language-plaintext highlighter-rouge">切记</code></em> : 因为是最基本的初体验, 所以一些正式开发中必装的 <code class="language-plaintext highlighter-rouge">loader</code> 和 <code class="language-plaintext highlighter-rouge">plugin</code> 就没有装, 因为只是想按照官方教程手动敲出来加深印象, 特别是进阶教程中比较麻烦的父子组件传参, 作用域插槽, 递归组件以及 <code class="language-plaintext highlighter-rouge">slot</code> 等. 因此这个配置不可能作为正式开发的参照配置, 只可作为了解 <code class="language-plaintext highlighter-rouge">vue</code> 组件工作原理的练手项目.<h2 id="配置说明">配置说明</h2><p>以下配置的详细说明在后面可以找到, 不想看的话直接复制下面的 <code class="language-plaintext highlighter-rouge">package.json</code> 即可, 但是为了加深印象还是建议手动敲一遍.<p>废话不多说, 开始.<p>首先, 既然是 <code class="language-plaintext highlighter-rouge">webpack+vue</code>, 那相应的安装包少不了, 这里我们使用 <code class="language-plaintext highlighter-rouge">vue@2.2.4</code> 和 <code class="language-plaintext highlighter-rouge">webpack@1.12.2</code>:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">npm</span> <span class="nx">install</span> <span class="nx">webpack</span><span class="p">@</span><span class="nd">1</span><span class="p">.</span><span class="mf">12.2</span> <span class="nx">vue</span><span class="p">@</span><span class="nd">2</span><span class="p">.</span><span class="mf">2.4</span> <span class="o">--</span><span class="nx">save</span><span class="o">-</span><span class="nx">dev</span>
</code></pre></div></div><p>然后是 <code class="language-plaintext highlighter-rouge">babel</code> 和相应的 <code class="language-plaintext highlighter-rouge">loader</code>, 这里我们使用 <code class="language-plaintext highlighter-rouge">es2015</code> 这个配置, 用最新的就好:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">npm</span> <span class="nx">install</span> <span class="nx">babel</span> <span class="nx">bebel</span><span class="o">-</span><span class="nx">core</span> <span class="nx">babel</span><span class="o">-</span><span class="nx">loader</span> <span class="nx">babel</span><span class="o">-</span><span class="nx">preset</span><span class="o">-</span><span class="nx">es2015</span> <span class="o">--</span><span class="nx">save</span><span class="o">-</span><span class="nx">dev</span>
</code></pre></div></div><p>然后是 <code class="language-plaintext highlighter-rouge">webpack</code> 的必装 <code class="language-plaintext highlighter-rouge">loader</code>, <code class="language-plaintext highlighter-rouge">css-loader</code> 用来处理 <code class="language-plaintext highlighter-rouge">css</code> 中 <code class="language-plaintext highlighter-rouge">url()</code> 的资源, <code class="language-plaintext highlighter-rouge">style-loader</code> 用来将 <code class="language-plaintext highlighter-rouge">require</code> 的 <code class="language-plaintext highlighter-rouge">css</code> 抽出放到 <code class="language-plaintext highlighter-rouge">style</code> 标签中, 然后加到页面 <code class="language-plaintext highlighter-rouge">head</code> 部分. <code class="language-plaintext highlighter-rouge">html-webpack-plugin</code> 用来将入口文件 <code class="language-plaintext highlighter-rouge">js</code> 变成 <code class="language-plaintext highlighter-rouge">html</code>, 入口文件中的各种资源由各种 <code class="language-plaintext highlighter-rouge">loader</code> 处理后插入到它生成的 <code class="language-plaintext highlighter-rouge">html</code> 中, <code class="language-plaintext highlighter-rouge">extract-text-webpack-plugin</code> 用来将被 <code class="language-plaintext highlighter-rouge">js</code> 通过 <code class="language-plaintext highlighter-rouge">style</code> 标签 <code class="language-plaintext highlighter-rouge">append</code> 到 <code class="language-plaintext highlighter-rouge">head</code> 中的样式抽出到单独的 <code class="language-plaintext highlighter-rouge">.css</code> 文件中:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">npm</span> <span class="nx">install</span> <span class="nx">css</span><span class="o">-</span><span class="nx">loader</span> <span class="nx">style</span><span class="o">-</span><span class="nx">loader</span> <span class="nx">html</span><span class="o">-</span><span class="nx">webpack</span><span class="o">-</span><span class="nx">plugin</span> <span class="nx">extract</span><span class="o">-</span><span class="nx">text</span><span class="o">-</span><span class="nx">webpack</span><span class="o">-</span><span class="nx">plugin</span><span class="p">@</span><span class="nd">1</span><span class="p">.</span><span class="mf">0.1</span> <span class="o">--</span><span class="nx">save</span><span class="o">-</span><span class="nx">dev</span>
</code></pre></div></div><p>然后是 <code class="language-plaintext highlighter-rouge">vue</code> 相关的东西, 因为一个 <code class="language-plaintext highlighter-rouge">.vue</code> 里面有至少有三个标签 <code class="language-plaintext highlighter-rouge">template/style/script</code>, 因此需要三个 <code class="language-plaintext highlighter-rouge">loader</code> 来处理, 再加上一个总的 <code class="language-plaintext highlighter-rouge">vue-loader</code>, 就是四个 <code class="language-plaintext highlighter-rouge">loader</code> ,这里:<p><code class="language-plaintext highlighter-rouge">vue-html-loader</code> 是 <code class="language-plaintext highlighter-rouge">webpack</code> 的官方 <code class="language-plaintext highlighter-rouge">html-loader</code> 的 <code class="language-plaintext highlighter-rouge">fork</code>, 作者放到这里只是为了能在 <code class="language-plaintext highlighter-rouge">webpack.config.js</code> 中的 <code class="language-plaintext highlighter-rouge">module.export.vue</code> 对象上使用 <code class="language-plaintext highlighter-rouge">html</code> 选项来单独配置 <code class="language-plaintext highlighter-rouge">vue</code> 的 相关 <code class="language-plaintext highlighter-rouge">html</code>(本项目安装 <code class="language-plaintext highlighter-rouge">vue-loader</code> 即可, 这里只是顺带安装说明一下);<p><code class="language-plaintext highlighter-rouge">vue-style-loader</code> 用来处理 <code class="language-plaintext highlighter-rouge">.vue</code> 文件中 <code class="language-plaintext highlighter-rouge">style</code> 中的内容, 是 <code class="language-plaintext highlighter-rouge">webpack</code> 的官方 <code class="language-plaintext highlighter-rouge">style-loader</code> 的 <code class="language-plaintext highlighter-rouge">fork</code>(本项目安装 <code class="language-plaintext highlighter-rouge">vue-loader</code> 即可, 这里只是顺带安装说明一下);<p><code class="language-plaintext highlighter-rouge">vue-template-compiler</code> 用来处理 <code class="language-plaintext highlighter-rouge">.vue</code> 文件中 <code class="language-plaintext highlighter-rouge">template</code> 中的内容, 除非是用它编译后的文件做其他事情才需要单独配置(即写 <code class="language-plaintext highlighter-rouge">build tools</code>, 否则这个不是必须的, 因为 <code class="language-plaintext highlighter-rouge">vue-loader</code> 已经默认使用它了)(本项目安装 vue-loader 即可, 这里只是顺带安装说明一下);<p><code class="language-plaintext highlighter-rouge">vue-loader</code> 用来处理 <code class="language-plaintext highlighter-rouge">.vue</code> 后缀的内容, 在遇到相关的内容时, 会调用上述三个相关的 <code class="language-plaintext highlighter-rouge">loader</code> 来处理.<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">npm</span> <span class="nx">install</span> <span class="nx">vue</span><span class="o">-</span><span class="nx">html</span><span class="o">-</span><span class="nx">loader</span> <span class="nx">vue</span><span class="o">-</span><span class="nx">loader</span> <span class="nx">vue</span><span class="o">-</span><span class="nx">style</span><span class="o">-</span><span class="nx">loader</span> <span class="nx">vue</span><span class="o">-</span><span class="nx">template</span><span class="o">-</span><span class="nx">compiler</span> <span class="o">--</span><span class="nx">save</span><span class="o">-</span><span class="nx">dev</span>
</code></pre></div></div><p>最后就是开发用的 <code class="language-plaintext highlighter-rouge">webpack-dev-server</code>, 这里我们安装 <code class="language-plaintext highlighter-rouge">1.12.1</code> 版本:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">npm</span> <span class="nx">install</span> <span class="nx">webpack</span><span class="o">-</span><span class="nx">dev</span><span class="o">-</span><span class="nx">server</span> <span class="o">--</span><span class="nx">save</span><span class="o">-</span><span class="nx">dev</span>
</code></pre></div></div><p>下面是总的 <code class="language-plaintext highlighter-rouge">package.json</code> 配置文件, 而具体的每个 <code class="language-plaintext highlighter-rouge">package.json</code> 字段的含义, 可以查看 <a href="http://json.is/">这个网站</a>.<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">vue-components</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.0.1</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">vue components test</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">main</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">app/app.js</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">scripts</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">dev</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">webpack-dev-server --hot</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">build</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">webpack</span><span class="dl">"</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">keywords</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
    <span class="dl">"</span><span class="s2">vue</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">components</span><span class="dl">"</span>
  <span class="p">],</span>
  <span class="dl">"</span><span class="s2">author</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xheldon</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">license</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MIT</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">dependencies</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">vue</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^2.2.4</span><span class="dl">"</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">devDependencies</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">babel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^6.23.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">babel-core</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^6.24.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">babel-loader</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^6.4.1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">babel-preset-es2015</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^6.24.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">css-loader</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^0.27.3</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">extract-text-webpack-plugin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^1.0.1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">html-webpack-plugin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^2.28.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">style-loader</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^0.16.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">vue-html-loader</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^1.2.4</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">vue-loader</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^11.3.1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">vue-style-loader</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^2.0.4</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">vue-template-compiler</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^2.2.4</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">webpack</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^1.12.2</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">webpack-dev-server</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">^1.12.1</span><span class="dl">"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="项目说明">项目说明</h2><p>Ok, 依赖安装完了, 接下来看下 <code class="language-plaintext highlighter-rouge">webpack</code> 配置, 因为是想尽快测试 <code class="language-plaintext highlighter-rouge">vue</code> 官方文档的组件部分, 所以一切从简了:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">webpack</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">webpack</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">HtmlwebpackPlugin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">html-webpack-plugin</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// 常用配置,项目较小不抽出了</span>
<span class="kd">var</span> <span class="nx">ROOT_PATH</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">);</span><span class="c1">//根路径</span>
<span class="kd">var</span> <span class="nx">APP_PATH</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">ROOT_PATH</span><span class="p">,</span> <span class="dl">'</span><span class="s1">app</span><span class="dl">'</span><span class="p">);</span><span class="c1">//开发路径</span>
<span class="kd">var</span> <span class="nx">BUILD_PATH</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">ROOT_PATH</span><span class="p">,</span> <span class="dl">'</span><span class="s1">build</span><span class="dl">'</span><span class="p">);</span><span class="c1">//输出路径</span>
<span class="kd">var</span>  <span class="nx">ExtractTextPlugin</span><span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">extract-text-webpack-plugin</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">entry</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">app</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">APP_PATH</span><span class="p">,</span> <span class="dl">'</span><span class="s1">app.js</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">path</span><span class="p">:</span> <span class="nx">BUILD_PATH</span><span class="p">,</span>
    <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bundle.js</span><span class="dl">'</span><span class="c1">//因为只有一个入口文件, 因此直接写死了</span>
  <span class="p">},</span>
  <span class="na">resolve</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">alias</span><span class="p">:</span> <span class="p">{</span>
      <span class="c1">//注意, 这里导入的是/node_module/vue/dist/vue.js, 跟 vue-router.js 的不同</span>
      <span class="na">vue</span><span class="p">:</span> <span class="dl">'</span><span class="s1">vue/dist/vue.js</span><span class="dl">'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="c1">//开启 dev source map</span>
  <span class="na">devtool</span><span class="p">:</span> <span class="dl">'</span><span class="s1">eval-source-map</span><span class="dl">'</span><span class="p">,</span>
  <span class="c1">//开启 dev server</span>
  <span class="na">devServer</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">historyApiFallback</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">hot</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span><span class="c1">//HMR</span>
    <span class="na">inline</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">progress</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">},</span>
  <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">loaders</span><span class="p">:[</span>
      <span class="p">{</span>
        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">vue$/</span><span class="p">,</span>
        <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">css$/</span><span class="p">,</span>
        <span class="na">loader</span><span class="p">:</span> <span class="nx">ExtractTextPlugin</span><span class="p">.</span><span class="nx">extract</span><span class="p">(</span><span class="dl">'</span><span class="s1">css-loader</span><span class="dl">'</span><span class="p">)</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">js$/</span><span class="p">,</span>
        <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">babel</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">include</span><span class="p">:</span> <span class="nx">ROOT_PATH</span><span class="p">,</span>
        <span class="na">exclude</span><span class="p">:</span> <span class="sr">/node_modules/</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">html$/</span><span class="p">,</span>
        <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">vue-html</span><span class="dl">'</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="na">vue</span><span class="p">:{</span>
    <span class="na">loaders</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">css</span><span class="p">:</span> <span class="nx">ExtractTextPlugin</span><span class="p">.</span><span class="nx">extract</span><span class="p">(</span><span class="dl">'</span><span class="s1">css-loader</span><span class="dl">'</span><span class="p">)</span>    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">plugins</span><span class="p">:[</span>
    <span class="k">new</span> <span class="nx">HtmlwebpackPlugin</span><span class="p">({</span>
      <span class="na">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Vue component test</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">this_is_final_filename_address_you_visit_in_browser.html</span><span class="dl">'</span><span class="p">,</span><span class="c1">//生成的最终文件名</span>
      <span class="na">template</span><span class="p">:</span> <span class="dl">'</span><span class="s1">app/this_is_main_page_which_you_put_components_into.html</span><span class="dl">'</span><span class="p">,</span><span class="c1">//放置组件的地方, 一般是一个 body 下一个孤零零的 app 标签即可.</span>
      <span class="na">inject</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">})</span>
  <span class="p">]</span>
<span class="p">};</span>
</code></pre></div></div><p>关于这个配置, 有点东西需要说一下.<p>从上往下, 首先是 <code class="language-plaintext highlighter-rouge">alias</code> , 使用过 <a href="https://github.com/vuejs/vue-router/"><code class="language-plaintext highlighter-rouge">vue-router</code></a> 的人可能不需要这个配置, 但是使用 <code class="language-plaintext highlighter-rouge">.vue</code> 组件的项目必须这个配置,因为需要指定使用的 <code class="language-plaintext highlighter-rouge">vue</code> 的 <code class="language-plaintext highlighter-rouge">js</code> 类型, 看下本项目下 <code class="language-plaintext highlighter-rouge">node_module/vue/dist/</code> 文件夹下的文件, 有 <code class="language-plaintext highlighter-rouge">vue.js</code> 和 <code class="language-plaintext highlighter-rouge">vue.common.js</code> 两种, 其中 <code class="language-plaintext highlighter-rouge">vue</code> 编译 <code class="language-plaintext highlighter-rouge">template</code> 组件的时候是需要一个 <code class="language-plaintext highlighter-rouge">compiler.js</code> 的, 目的是把 <code class="language-plaintext highlighter-rouge">template</code> 中的 <code class="language-plaintext highlighter-rouge">html</code> 内容编译成 <code class="language-plaintext highlighter-rouge">render</code> 函数:<p>编译前:<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"app"</span><span class="nt">&gt;</span>
  Hello 
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
    <span class="na">el</span><span class="p">:</span> <span class="dl">'</span><span class="s1">#app</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="p">{</span><span class="na">who</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Vue</span><span class="dl">'</span><span class="p">}</span>
  <span class="p">})</span>
<span class="nt">&lt;/script&gt;</span>```

编译后:

```js
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"app"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
    <span class="na">el</span><span class="p">:</span> <span class="dl">'</span><span class="s1">#app</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">render</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="kd">with</span> <span class="p">(</span><span class="k">this</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">__h__</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span>
          <span class="p">{</span><span class="na">staticAttrs</span><span class="p">:{</span><span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">app</span><span class="dl">"</span><span class="p">}},</span>
          <span class="p">[(</span><span class="dl">"</span><span class="se">\n</span><span class="s2">  Hello </span><span class="dl">"</span><span class="o">+</span><span class="nx">__toString__</span><span class="p">(</span><span class="nx">who</span><span class="p">)</span><span class="o">+</span><span class="dl">"</span><span class="se">\n</span><span class="dl">"</span><span class="p">)],</span>
          <span class="dl">''</span>
        <span class="p">)</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="na">data</span><span class="p">:</span> <span class="p">{</span><span class="na">who</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Vue</span><span class="dl">'</span><span class="p">}</span>
  <span class="p">})</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div><p>而 <code class="language-plaintext highlighter-rouge">vue</code> 使用 <code class="language-plaintext highlighter-rouge">compiler</code> 编译 <code class="language-plaintext highlighter-rouge">template</code> 后的 <code class="language-plaintext highlighter-rouge">js</code> 在运行的时候发现有 <code class="language-plaintext highlighter-rouge">render</code> 函数的话就直接执行 <code class="language-plaintext highlighter-rouge">render</code>, <code class="language-plaintext highlighter-rouge">template</code> 字段下的内容会被忽略. 而执行编译后的 <code class="language-plaintext highlighter-rouge">render</code> 的任务,是由 <code class="language-plaintext highlighter-rouge">vue.common.js</code> 完成的.因此:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">vue</span><span class="p">.</span><span class="nx">js</span> <span class="o">=</span> <span class="nx">vue</span><span class="p">.</span><span class="nx">common</span><span class="p">.</span><span class="nx">js</span> <span class="o">+</span> <span class="nx">compiler</span><span class="p">.</span><span class="nx">js</span>
</code></pre></div></div><p>所以, 如果你使用的是 <code class="language-plaintext highlighter-rouge">vue-router</code>, 它的 <code class="language-plaintext highlighter-rouge">package.json</code> 中的 <code class="language-plaintext highlighter-rouge">main</code> 字段是指向 <code class="language-plaintext highlighter-rouge">node_module/dist/vue.common.js</code> 的, 如果你直接复制这个到你的项目下, 运行的时候会提示你类似于 <code class="language-plaintext highlighter-rouge">vue.common.js</code> 的 <code class="language-plaintext highlighter-rouge">runtime</code> 错误之类的信息.<p>其次需要说的是这个 <code class="language-plaintext highlighter-rouge">css-loader</code> 和 <code class="language-plaintext highlighter-rouge">style-loader</code> 以及 <code class="language-plaintext highlighter-rouge">vue-style-loader</code>, 有了 <code class="language-plaintext highlighter-rouge">style-loader</code> 为何还要个 <code class="language-plaintext highlighter-rouge">vue-style-loader</code> 呢? 看了下 <code class="language-plaintext highlighter-rouge">vue-style-loader</code> 的说明, 明白了其仅仅是一个 <code class="language-plaintext highlighter-rouge">style-loader</code> 的 <code class="language-plaintext highlighter-rouge">fork</code>, 但是为了单独处理 <code class="language-plaintext highlighter-rouge">.vue</code> 文件, 同时为了让用户配置 <code class="language-plaintext highlighter-rouge">vue</code> 更清晰, 将其加到了 <code class="language-plaintext highlighter-rouge">webpack@1.x</code> 的配置文件中的 <code class="language-plaintext highlighter-rouge">vue</code> 字段中. 可以通过将 <code class="language-plaintext highlighter-rouge">extract-text-webpack-plugin</code> 插件的配置从:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">vue</span><span class="p">:{</span>
  <span class="nl">loaders</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">css</span><span class="p">:</span> <span class="nx">ExtractTextPlugin</span><span class="p">.</span><span class="nx">extract</span><span class="p">(</span><span class="dl">'</span><span class="s1">vue-style-loader</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">css-loader</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p>改成:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">vue</span><span class="p">:{</span>
  <span class="nl">loaders</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">css</span><span class="p">:</span> <span class="nx">ExtractTextPlugin</span><span class="p">.</span><span class="nx">extract</span><span class="p">(</span><span class="dl">'</span><span class="s1">style-loader</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">css-loader</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p>发现编译后的结果一样证实.<p>而默认情况下, <code class="language-plaintext highlighter-rouge">vue-loader</code> 是自动使用 <code class="language-plaintext highlighter-rouge">vue-style-loader</code> 的, 所以如果你不在 <code class="language-plaintext highlighter-rouge">.vue</code> 文件中 <code class="language-plaintext highlighter-rouge">@import</code> 任何 <code class="language-plaintext highlighter-rouge">css</code> , 那么你不需要手动把 <code class="language-plaintext highlighter-rouge">vue-loader-style</code> 放到 <code class="language-plaintext highlighter-rouge">vue.loaders</code> 字段中. <code class="language-plaintext highlighter-rouge">vue-loader</code> 会自动处理 <code class="language-plaintext highlighter-rouge">.vue</code> 文件中的 <code class="language-plaintext highlighter-rouge">style</code> 标签中的内容, 并将其放到 <code class="language-plaintext highlighter-rouge">style</code> 标签中插入页面. 而如果你需要在 <code class="language-plaintext highlighter-rouge">.vue</code> 文件中的 <code class="language-plaintext highlighter-rouge">style</code> 标签内 <code class="language-plaintext highlighter-rouge">@import css</code> 文件, 那么你就需要在 <code class="language-plaintext highlighter-rouge">module.exports.vue</code> 单独配置.可以通过把 <code class="language-plaintext highlighter-rouge">vue</code> 字段的 <code class="language-plaintext highlighter-rouge">vue-style-loader</code> 去掉来测试:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">loaders</span><span class="p">:[</span>
    <span class="p">{</span>
      <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">vue$/</span><span class="p">,</span>
      <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">},</span>
<span class="nx">vue</span><span class="p">:{</span>
  <span class="c1">// loaders: {</span>
  <span class="c1">//   css: 'vue-style-loader!css-loader'</span>
  <span class="c1">// }</span>
<span class="p">}</span>
</code></pre></div></div><p>此外, 入口文件 <code class="language-plaintext highlighter-rouge">js</code> 中的 <code class="language-plaintext highlighter-rouge">require('xxx.css')</code> 是默认的 <code class="language-plaintext highlighter-rouge">module.exports.module.loader</code> 处理的, 这点可以通过在默认 <code class="language-plaintext highlighter-rouge">loader</code> 中使用 <code class="language-plaintext highlighter-rouge">extract</code> 插件, 而在 <code class="language-plaintext highlighter-rouge">module.exports.vue</code> 中不使用 <code class="language-plaintext highlighter-rouge">extract</code> 插件证实, 因为从结果可以发现, 入口文件中的 <code class="language-plaintext highlighter-rouge">css</code> 被提取了, 但是 <code class="language-plaintext highlighter-rouge">.vue</code> 中的 <code class="language-plaintext highlighter-rouge">@import</code> 来的 <code class="language-plaintext highlighter-rouge">css</code> 没有被提取.<p>而如果你需要 将入口文件中 <code class="language-plaintext highlighter-rouge">require</code> 来的 <code class="language-plaintext highlighter-rouge">css</code> 文件单独提取出来, 那么你就需要在 <code class="language-plaintext highlighter-rouge">module.exports.module.loader</code> 设置 <code class="language-plaintext highlighter-rouge">extract-text-webpack-plugin</code> 了.<p>注意: <code class="language-plaintext highlighter-rouge">vue-style-loader</code> 放在 <code class="language-plaintext highlighter-rouge">module.exports.vue.loaders</code> 字段中是为了能提取出 <code class="language-plaintext highlighter-rouge">.vue</code> 文件中的 <code class="language-plaintext highlighter-rouge">style</code> 标签内容到一个单独的 <code class="language-plaintext highlighter-rouge">.css</code> 文件 <code class="language-plaintext highlighter-rouge">link</code> 在页面中, 把 <code class="language-plaintext highlighter-rouge">style-loader</code> 和 <code class="language-plaintext highlighter-rouge">css-loader</code> 放在默认的 <code class="language-plaintext highlighter-rouge">module.exports.module.loaders</code> 中, 对处理 <code class="language-plaintext highlighter-rouge">vue</code> 中的 <code class="language-plaintext highlighter-rouge">style</code> 标签内容无效————起码在 <code class="language-plaintext highlighter-rouge">Vue 1.x</code> 版本和 <code class="language-plaintext highlighter-rouge">webpack 1.x</code> 版本无效, <code class="language-plaintext highlighter-rouge">webpack 2.x</code> 版本移除了第三方的字段, 限制在 <code class="language-plaintext highlighter-rouge">module.export</code> 中随意添加字段.<p>最后, <code class="language-plaintext highlighter-rouge">css-loader</code> 和 <code class="language-plaintext highlighter-rouge">style-loader</code> 总是写在一起的, 因为 <code class="language-plaintext highlighter-rouge">css-loader</code> 的作用是 <code class="language-plaintext highlighter-rouge">resolve css</code> 文件中的 <code class="language-plaintext highlighter-rouge">@import</code> 和 属性值 <code class="language-plaintext highlighter-rouge">url()</code> 中的依赖关系, 单独写其实是没什么用的. <code class="language-plaintext highlighter-rouge">style-loader</code> 才是处理 <code class="language-plaintext highlighter-rouge">css</code>, 并将其打包到 <code class="language-plaintext highlighter-rouge">js</code> 中, 最后以 <code class="language-plaintext highlighter-rouge">&lt;style&gt;</code> 标签的形式插入到 <code class="language-plaintext highlighter-rouge">head</code> (插入位置可配置)中的 <code class="language-plaintext highlighter-rouge">loader</code>.<p>最后讲讲 <code class="language-plaintext highlighter-rouge">extract-text-webpack-plugin</code>, 其接受三个参数:<p>第一个参数是可选参数, 传入一个 <code class="language-plaintext highlighter-rouge">loader</code>, 当 <code class="language-plaintext highlighter-rouge">css</code> 样式没有被抽取的时候可以使用该 <code class="language-plaintext highlighter-rouge">loader</code>. 第二个参数则是用于编译解析的 <code class="language-plaintext highlighter-rouge">css</code> 文件 <code class="language-plaintext highlighter-rouge">loader</code>, 很明显这个是必须传入的, 就像上述例子的 <code class="language-plaintext highlighter-rouge">css-loader</code>. 第三个参数是一些额外的备选项, 貌似目前只有传入 <code class="language-plaintext highlighter-rouge">publicPath</code>, 用于当前 <code class="language-plaintext highlighter-rouge">loader</code> 的路径.<p>那什么时候需要传入第一个参数呢,那就得明白什么时候样式不会被抽取出来. 了解过 <code class="language-plaintext highlighter-rouge">code splitting</code> 的同学便会知道,我们有些代码在加载页面的时候不会被使用时, 使用 <code class="language-plaintext highlighter-rouge">code splitting</code>, 可以实现将这部分不会使用的代码分离出去, 独立成一个单独的文件,实现按需加载.<p>那么如果在这些分离出去的代码中如果有使用 <code class="language-plaintext highlighter-rouge">require</code> 引入样式文件, 那么使用 <code class="language-plaintext highlighter-rouge">ExtractTextPlugin</code> 这部分样式代码是不会被抽取出来的. 这部分不会抽取出来的代码, 可以使用 <code class="language-plaintext highlighter-rouge">loader</code> 做一些处理, 这就是 <code class="language-plaintext highlighter-rouge">ExtractTextPlugin.extract</code> 第一个参数的作用.<p>OK, 聊完了配置文件, 再说说这个项目是怎么工作的.<p>一图胜千言, 上图, 首先是代码界面:<p><img src="https://cdn.jsdelivr.net/gh/xheldon/x_blog-static@master/img/2016/vue-test.png" alt="项目结构" title="项目结构" /><p>(若图片显示较小请在右键在新标签页单独查看)<p>看箭头所示就明白啦, 首先一个页面是至少有一个组件的, 这个我直接就一个页面一个组件来写了, 没有 <code class="language-plaintext highlighter-rouge">import</code> 其他的组件.<p>因此, 一个页面下是至少三个文件的, <code class="language-plaintext highlighter-rouge">.vue</code> 文件, <code class="language-plaintext highlighter-rouge">.js</code> 入口文件, 和 <code class="language-plaintext highlighter-rouge">.html</code>, 组件插入的文件.<p><code class="language-plaintext highlighter-rouge">html</code> 中写一个组件 <code class="language-plaintext highlighter-rouge">app</code> 的名字, 入口文件实例化一个 <code class="language-plaintext highlighter-rouge">vue</code>, 然后使用 <code class="language-plaintext highlighter-rouge">app</code> 这个组件, 同时这个叫做 <code class="language-plaintext highlighter-rouge">app</code> 组件的模板来自 <code class="language-plaintext highlighter-rouge">index.vue</code>, 组件对应的 <code class="language-plaintext highlighter-rouge">css</code> 和 <code class="language-plaintext highlighter-rouge">js</code> 以及 <code class="language-plaintext highlighter-rouge">mvvm</code> 的特色:数据绑定也写在 <code class="language-plaintext highlighter-rouge">index.vue</code> 里面.<p>有同学会疑惑, 入口文件 <code class="language-plaintext highlighter-rouge">js</code> 是怎么找到同目录的 <code class="language-plaintext highlighter-rouge">html</code> 文件的呢? 其实这个在 <code class="language-plaintext highlighter-rouge">webpack.config.js</code> 配置文件就已经写好了:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">plugins</span><span class="p">:[</span>
  <span class="k">new</span> <span class="nx">HtmlwebpackPlugin</span><span class="p">({</span>
    <span class="na">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Vue component test</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">this_is_final_filename_address_you_visit_in_browser.html</span><span class="dl">'</span><span class="p">,</span><span class="c1">//生成的最终文件名</span>
    <span class="na">template</span><span class="p">:</span> <span class="dl">'</span><span class="s1">app/this_is_main_page_which_you_put_components_into.html</span><span class="dl">'</span><span class="p">,</span><span class="c1">//放置组件的地方, 一般是一个 body 下一个孤零零的 app 标签即可.</span>
    <span class="na">inject</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">})</span>
<span class="p">]</span>
</code></pre></div></div><p>这个 <code class="language-plaintext highlighter-rouge">html</code> 生成的插件告诉 <code class="language-plaintext highlighter-rouge">js</code> 入口文件, 所需要的模板来自 <code class="language-plaintext highlighter-rouge">app</code> 下的 <code class="language-plaintext highlighter-rouge">xxx.html</code>, 而最后打包的 <code class="language-plaintext highlighter-rouge">bundle.js</code> 也是 <code class="language-plaintext highlighter-rouge">inject</code> 这个里面, 再生成最终的页面.<p>还有同学会问, 在入口 <code class="language-plaintext highlighter-rouge">js</code> 文件中, <code class="language-plaintext highlighter-rouge">vue</code> 实例化的时候用到的 <code class="language-plaintext highlighter-rouge">components.App</code> 到底是在编译过程就找到了 <code class="language-plaintext highlighter-rouge">this_is_main_page_which_you_put_components_into.html</code> 文件中的 <code class="language-plaintext highlighter-rouge">&lt;app&gt;</code> 组件引用, 还是在 <code class="language-plaintext highlighter-rouge">runtime</code> 的时候, 从最终打包的 <code class="language-plaintext highlighter-rouge">bundle.js</code> 中运行, 然后寻找 <code class="language-plaintext highlighter-rouge">this_is_final_filename_address_you_visit_in_browser.html</code> 页面中的 <code class="language-plaintext highlighter-rouge">&lt;app&gt;</code> 标签呢? 答案是后者, 因为刚才说的 <code class="language-plaintext highlighter-rouge">HtmlwebpackPlugin</code> 插件只负责生成 <code class="language-plaintext highlighter-rouge">html</code> 和注入打包后的 <code class="language-plaintext highlighter-rouge">bundle.js</code>, 而 <code class="language-plaintext highlighter-rouge">vue</code> 被打包进了 <code class="language-plaintext highlighter-rouge">bundle.js</code> 之后实例化 <code class="language-plaintext highlighter-rouge">vue</code> 时候才会寻找 <code class="language-plaintext highlighter-rouge">&lt;app&gt;</code> 标签.<p>这么一看, 和直接在 <code class="language-plaintext highlighter-rouge">script</code> 标签中引用 <code class="language-plaintext highlighter-rouge">vue.js</code> 文件再渲染的效果是一样的, 只是 <code class="language-plaintext highlighter-rouge">webpack</code> 这种开发方式帮我们分离了组件, 使开发过程的代码/组件结构更清晰, 而且直接引用 <code class="language-plaintext highlighter-rouge">vue.js</code> 是前端 <code class="language-plaintext highlighter-rouge">runtime render</code>, 一个是 <code class="language-plaintext highlighter-rouge">compiler render</code> 之后直接执行, 后者效率更高.<p>之后是效果页面:<p><img src="https://cdn.jsdelivr.net/gh/xheldon/x_blog-static@master/img/2016/page-detail.png" alt="页面效果图" title="页面效果图" /> (若图片显示较小请在右键在新标签页单独查看)<p>看图就明白什么意思啦.<p>还有不明白的请看文档.<p>暂时聊这么多, 关于 <code class="language-plaintext highlighter-rouge">vue</code> 和 <code class="language-plaintext highlighter-rouge">webpack</code> 的 <code class="language-plaintext highlighter-rouge">注意事项/细节/设计思想</code> 还有很多要说的, 回聊~</article><div class="page-footer"><hr /> 转载请<a href="/tech/vue-simple-use.html">注明出处</a>&nbsp;&nbsp;打赏请<a href="/donate/" target="_blank">移步这里</a> <br><br> <span class="EOF">- EOF -</span> <br><br><div class="panel-body"><h4>相同分类:</h4><ul><li class="relatedPost"> <a href="/tech/Collaborative-Editing-in-ProseMirror.html">[译]ProseMirror 中的协同编辑实现</a> (分类: <a href="/category/Framework">Framework</a>, <a href="/category/ProseMirror">ProseMirror</a>)<li class="relatedPost"> <a href="/tech/vue-reactive.html">Vue 响应式原理及实现</a> (分类: <a href="/category/Framework">Framework</a>)<li class="relatedPost"> <a href="/tech/three-ways-to-make-a-vue-SPA-use-router.html">Vue 实现路由的三种方式</a> (分类: <a href="/category/Framework">Framework</a>)<li class="relatedPost"> <a href="/tech/vue-learning-summary.html">Vue 学习总结</a> (分类: <a href="/category/Framework">Framework</a>)<li class="relatedPost"> <a href="/tech/webpack-details-one.html">Webpack 异步按需加载</a> (分类: <a href="/category/Framework">Framework</a>)</ul></div><div class="page-navigation"> <a class="prev" href="/tech/webpack-details-one.html">&laquo; Webpack 异步按需加载</a> <a class="next" href="/tech/git-command.html">git 常用命令总结 &raquo;</a></div><div id="gitalk-container"></div></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"> <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script> <script type="text/javascript"> window.addEventListener('load', function(){ var gitalk = new Gitalk({ clientID: 'd2b353a60fa1233163fc', clientSecret: '8091d57674976bcd60fc05261bf93c00da7e5ff4', repo: 'x_blog', owner: 'Xheldon', admin: ['Xheldon'], id: "vue-simple-use" }); gitalk.render('gitalk-container'); }); </script></main><footer> &copy; 2021 - Xheldon - Theme Powered By Xheldon <span class="footer-social"> <a href="https://twitter.com/_Xheldon" target="_blank"><i class="fab fa-twitter"></i></a> <a href="https://t.me/xheldon_saloon" target="_blank"><i class="fab fa-telegram"></i></a> <a href="https://www.zhihu.com/people/xheldon/pins" target="_blank"><i class="fa" style="font-size: 16px;line-height:2;">知乎</i></a> </span></footer></div><script type="text/javascript"> !function () { function e(t) { var n = {}; if (1 == t.nodeType) { if (t.attributes.length > 0) { n["@attributes"] = {}; for (var i = 0; i < t.attributes.length; i++) { var s = t.attributes.item(i); n["@attributes"][s.nodeName] = s.nodeValue } } } else 3 == t.nodeType && (n = t.nodeValue); var a = [].slice.call(t.childNodes).filter(function (e) { return 3 === e.nodeType }); if (t.hasChildNodes() && t.childNodes.length === a.length) n = [].slice.call(t.childNodes).reduce(function (e, t) { return e + t.nodeValue }, ""); else if (t.hasChildNodes()) for (var r = 0; r < t.childNodes.length; r++) { var o = t.childNodes.item(r), d = o.nodeName; if ("undefined" == typeof n[d]) n[d] = e(o); else { if ("undefined" == typeof n[d].push) { var c = n[d]; n[d] = [], n[d].push(c) } n[d].push(e(o)) } } return n } function t(t) { var n = e(t); return n.channel.item } var n, i = document.querySelector("#js-search"), s = document.querySelector("#js-search__input"), a = document.querySelector("#js-search__results"), r = "", o = [], d = new XMLHttpRequest; d.open("GET", "/sitemap.xml"), d.onreadystatechange = function () { if (4 == d.readyState && (200 == d.status || 304 == d.status)) { var e = (new DOMParser).parseFromString(d.responseText, "text/xml"); e = e.children[0], o = t(e) } }, d.send(), window.toggleSearch = function () { _gaq.push(["_trackEvent", "supersearch", i.classList.contains("is-active")]), i.classList.toggle("is-active"), i.classList.contains("is-active") ? s.value = "" : a.classList.add("is-hidden"), setTimeout(function () { s.focus() }, 210) }, window.addEventListener("keyup", function (e) { 27 === e.which && toggleSearch() }), window.addEventListener("keypress", function (e) { 47 !== e.which || i.classList.contains("is-active") || toggleSearch() }), s.addEventListener("input", function () { var e, t; if (r = (s.value + "").toLowerCase(), !r || r.length < 3) return n = "", void a.classList.add("is-hidden"); a.style.offsetWidth; var i; i = void 0 === o.title ? o.filter(function (e) { return -1 !== (e.title + "").toLowerCase().indexOf(r) || -1 !== (e.description + "").toLowerCase().indexOf(r) ? !0 : void 0 }) : [o], i.length || a.classList.add("is-hidden"), e = i.reduce(function (e, t) { return t.title + e }, ""), i.length && e !== n && (a.classList.remove("is-hidden"), a.innerHTML = i.map(function (e) { return t = new Date(e.pubDate), '<li><a href="' + e.link + '">' + e.title + "</a>" }).join("")), n = e }) }(); </script><link href="https://cdn.jsdelivr.net/gh/xheldon/x_blog-static@master/css/font-awesome.min.css" rel="stylesheet" crossorigin="anonymous"> <script> (function (i, s, o, g, r, a, m) { i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o), m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m) })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga'); ga('create', 'UA-79359216-1', 'auto'); ga('send', 'pageview'); </script> <script> document.addEventListener('DOMContentLoaded',function(){ try { Array.prototype.slice.call(document.querySelectorAll('a')).forEach(function(a){ if (!a.getAttribute('target')) { let href = a.getAttribute('href'); let attrs = Object.keys(a.dataset); if (href && href.indexOf('/') && href.indexOf('#')) { a.setAttribute('target', '_blank'); } else { a.setAttribute('target', '_self'); } /* 默认情况下外链在新窗口打开, 本地链接在当前窗口打开 kramdown 可以对 url 设置特殊属性 data-open, 因此用此特性来排除需要在新窗口打开的本地链接 */ if (attrs.length) { attrs.forEach(function(attr){ switch (attr) { case 'open': a.setAttribute('target', '_blank'); break; default: break; } }); } } }); } catch (e) { console.log('新窗口打开链接失败:', e); } /*try { let toc = document.getElementById('post-toc'); if (toc) { function setPosition() { let offset = toc.parentElement.getBoundingClientRect().y; if (offset <= 50) { toc.style.position = 'fixed'; toc.style.top = '50px'; } else { toc.style.position = 'absolute'; toc.style.top = '0'; } } setPosition(); window.addEventListener('scroll', setPosition); } } catch(e) { console.log('toc滚动失败'); }*/ }); </script>
